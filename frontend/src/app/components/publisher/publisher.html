<div class="publisher-container">
  <h2>Publisher (–ü–∞–±–ª–∏—à–µ—Ä)</h2>
  <p class="description">–í–∫–ª—é—á–∏—Ç–µ –≤–µ–±-–∫–∞–º–µ—Ä—É, –ø–æ–ª—É—á–∏—Ç–µ offer –æ—Ç subscriber, —Å–æ–∑–¥–∞–π—Ç–µ answer</p>

  <!-- Video Preview -->
  <div class="video-section">
    <video #localVideo class="local-video" autoplay muted playsinline></video>
  </div>

  <!-- Camera Controls -->
  <div class="controls">
    <button *ngIf="!isCameraStarted" (click)="startCamera()" class="btn btn-primary">
      –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–º–µ—Ä—É
    </button>
    <button *ngIf="isCameraStarted" (click)="stopCamera()" class="btn btn-danger">
      –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–º–µ—Ä—É
    </button>
  </div>

  <!-- TURN Settings -->
  <div class="settings-section" *ngIf="isCameraStarted">
    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ TURN</h3>
    <div class="form-row">
      <div class="form-group">
        <label for="turnUrl">TURN —Å–µ—Ä–≤–µ—Ä</label>
        <input id="turnUrl" type="text" [(ngModel)]="turnServerUrl" class="form-input" placeholder="localhost:3480" />
      </div>
      <div class="form-group">
        <label for="turnUser">–õ–æ–≥–∏–Ω</label>
        <input id="turnUser" type="text" [(ngModel)]="turnUsername" class="form-input" placeholder="turnuser" />
      </div>
      <div class="form-group">
        <label for="turnPass">–ü–∞—Ä–æ–ª—å</label>
        <input id="turnPass" type="password" [(ngModel)]="turnPassword" class="form-input" placeholder="turnpassword" />
      </div>
    </div>
  </div>

  <!-- Offer Input -->
  <div class="exchange-section" *ngIf="isCameraStarted">
    <h3>–®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ Offer –æ—Ç Subscriber</h3>
    <textarea
      [(ngModel)]="offerFromSubscriber"
      class="exchange-textarea"
      placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ offer –æ—Ç subscriber (JSON)"
      rows="8"
    ></textarea>
  </div>

  <!-- Create Answer Button -->
  <div class="controls" *ngIf="isCameraStarted && offerFromSubscriber.trim()">
    <button (click)="createAnswer()" class="btn btn-success">
      –°–æ–∑–¥–∞—Ç—å Answer
    </button>
  </div>

  <!-- Answer Output -->
  <div class="exchange-section" *ngIf="answerToSubscriber">
    <h3>–®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Answer –¥–ª—è Subscriber</h3>
    <textarea
      [value]="answerToSubscriber"
      class="exchange-textarea"
      readonly
      rows="8"
    ></textarea>
    <button (click)="copyAnswer()" class="btn btn-secondary">
      üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å Answer
    </button>
  </div>

  <!-- Status Messages -->
  <div class="status-section">
    <p *ngIf="statusMessage" class="status-info">‚ÑπÔ∏è {{ statusMessage }}</p>
    <p *ngIf="errorMessage" class="status-error">‚ùå {{ errorMessage }}</p>
  </div>
</div>
