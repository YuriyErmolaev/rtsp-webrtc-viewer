<div class="subscriber-container">
  <h2>Subscriber (–°–∞–±—Å–∫—Ä–∞–π–±–µ—Ä)</h2>
  <p class="description">–°–æ–∑–¥–∞–π—Ç–µ offer, –ø–æ–ª—É—á–∏—Ç–µ answer –æ—Ç publisher, —Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ</p>

  <!-- Video Player -->
  <div class="video-section">
    <video #remoteVideo class="remote-video" autoplay playsinline controls></video>
    <div class="video-overlay" *ngIf="!isConnected">
      <div class="overlay-content">
        <p *ngIf="!isOfferCreated">–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å Offer" –¥–ª—è –Ω–∞—á–∞–ª–∞</p>
        <p *ngIf="isOfferCreated && !answerFromPublisher">–û–∂–∏–¥–∞–Ω–∏–µ answer –æ—Ç publisher...</p>
      </div>
    </div>
  </div>

  <!-- TURN Settings -->
  <div class="settings-section" *ngIf="!isOfferCreated">
    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ TURN</h3>
    <div class="form-row">
      <div class="form-group">
        <label for="turnUrl">TURN —Å–µ—Ä–≤–µ—Ä</label>
        <input id="turnUrl" type="text" [(ngModel)]="turnServerUrl" class="form-input" placeholder="localhost:3480" />
      </div>
      <div class="form-group">
        <label for="turnUser">–õ–æ–≥–∏–Ω</label>
        <input id="turnUser" type="text" [(ngModel)]="turnUsername" class="form-input" placeholder="turnuser" />
      </div>
      <div class="form-group">
        <label for="turnPass">–ü–∞—Ä–æ–ª—å</label>
        <input id="turnPass" type="password" [(ngModel)]="turnPassword" class="form-input" placeholder="turnpassword" />
      </div>
    </div>
  </div>

  <!-- Create Offer Button -->
  <div class="controls" *ngIf="!isOfferCreated">
    <button (click)="createOffer()" class="btn btn-primary">
      –°–æ–∑–¥–∞—Ç—å Offer
    </button>
  </div>

  <!-- Offer Output -->
  <div class="exchange-section" *ngIf="isOfferCreated && offerToPublisher">
    <h3>–®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Offer –¥–ª—è Publisher</h3>
    <textarea
      [value]="offerToPublisher"
      class="exchange-textarea"
      readonly
      rows="8"
    ></textarea>
    <button (click)="copyOffer()" class="btn btn-secondary">
      üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å Offer
    </button>
  </div>

  <!-- Answer Input -->
  <div class="exchange-section" *ngIf="isOfferCreated && !isConnected">
    <h3>–®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ Answer –æ—Ç Publisher</h3>
    <textarea
      [(ngModel)]="answerFromPublisher"
      class="exchange-textarea"
      placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ answer –æ—Ç publisher (JSON)"
      rows="8"
    ></textarea>
  </div>

  <!-- Apply Answer Button -->
  <div class="controls" *ngIf="isOfferCreated && answerFromPublisher.trim() && !isConnected">
    <button (click)="applyAnswer()" class="btn btn-success">
      –ü—Ä–∏–º–µ–Ω–∏—Ç—å Answer –∏ –ó–∞–ø—É—Å—Ç–∏—Ç—å –í–∏–¥–µ–æ
    </button>
  </div>

  <!-- Reset Button -->
  <div class="controls" *ngIf="isOfferCreated">
    <button (click)="closePeerConnection()" class="btn btn-danger">
      –°–±—Ä–æ—Å–∏—Ç—å –∏ –ù–∞—á–∞—Ç—å –ó–∞–Ω–æ–≤–æ
    </button>
  </div>

  <!-- Status Messages -->
  <div class="status-section">
    <p *ngIf="statusMessage" class="status-info">‚ÑπÔ∏è {{ statusMessage }}</p>
    <p *ngIf="errorMessage" class="status-error">‚ùå {{ errorMessage }}</p>
  </div>
</div>
